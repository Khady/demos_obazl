((:ws-path "/Users/gar/obazl/demos_obazl/tools_obazl/convert") (:pkg-path "./rules/actions/with-stdout-to/run") (:realpath "/Users/gar/obazl/demos_obazl/tools_obazl/convert/rules/actions/with-stdout-to/run") (dune (rule (targets output.ml) (deps myscript.sh (:config-file CONFIG)) (action (with-stdout-to %{targets} (run myscript.sh "%{config-file}" "demo_counter"))))) (:files (:static "dune.mibl")) (:dune (:rule (:deps (:config-file (:pkg . "rules/actions/with-stdout-to/run") (:tgt . "CONFIG")) (:myscript.sh (:pkg . "rules/actions/with-stdout-to/run") (:tgt . "myscript.sh"))) (:outputs (:output.ml (:pkg . "rules/actions/with-stdout-to/run") (:tgt . "output.ml"))) (:actions (:cmd (:tool :myscript.sh) (:args :config-file "demo_counter")) (:stdout %{targets})))) (:structures (:dynamic (Output . output.ml))))